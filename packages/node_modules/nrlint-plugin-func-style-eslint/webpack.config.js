const pluginName = 'func-style-eslint';

const path = require('path');

function normalisePluginName(name) {
    name = 'nrlint-' + name;
    var result = name.replace(/[^a-zA-Z0-9]/g, ' ');
    result = result.trim();
    result = result.replace(/ +/g, ' ');
    result = result.replace(/ ./g,
        function (s) {
            return s.charAt(1).toUpperCase();
        }
    );
    result = result.charAt(0).toLowerCase() + result.slice(1);
    return result;
}

module.exports = {
    entry: './cli/rule.js',
    output: {
        filename: 'bundle.js', 
        path: path.resolve(__dirname, 'resources'),
        library: normalisePluginName(pluginName),
        libraryTarget: 'var'
    },
    resolve: {
        fallback: {
            "assert": path.resolve(__dirname, 'empty.js'), 
            "util":   false,
            "path":   false
        }
    },
    mode: 'production'
};